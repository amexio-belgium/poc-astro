---
import type {Iframe} from 'src/api/procedures/cms/types';


interface Props {
    iframe: Iframe
}

const {iframe} = Astro.props;
---

<iframe id="iframe" class="w-full !overflow-hidden" src={iframe.url}></iframe>

<script is:inline>
    window.addEventListener("message", function(e){
        const this_frame = document.getElementById("iframe");
        if (this_frame.contentWindow === e.source) {
            this_frame.height = e.data.height + "px";
            this_frame.style.height = e.data.height + "px";
        }
    })
</script>
