---
import {getPages} from 'src/api/procedures/cms';
import type {Page} from 'src/api/interfaces/CMSInterfaces';
import ComponentWrapper from 'src/components/ComponentWrapper.astro';
export async function getStaticPaths() {
    const pages = await getPages();
    return pages.map((page) => ({
        params: { slug: page.title },
        props: page,
    }));
}

const page: Page = Astro.props;
---

<main class="p-8">
    <h1>{page.title}</h1>
    {page.components.map((component)=>{
        return <ComponentWrapper component={component}></ComponentWrapper>
    })}
    
</main>
<script>
</script>
