---
import {getPage} from 'src/api/procedures/cms';
import ComponentWrapper from 'src/components/Wrapper.astro';
const { slug } = Astro.params;
if(!slug){
    return Astro.redirect('/404')
}
const page = await getPage({input: slug!});
---
<html>
<head>
    <title>{page.title}</title>
    <meta charset="UTF-8"> 
</head>
<body>
<main>
    {page && page.components &&
            <Fragment>
                {page.components.map((component)=>{
                return <ComponentWrapper component={component}></ComponentWrapper>
            })}
            </Fragment>
    }
</main>
</body>
</html>

<style is:global>
    article:nth-child(odd){
        background-color: white;
    }
    article:nth-child(even){
        background-color: #EFEFEF;
    }
</style>